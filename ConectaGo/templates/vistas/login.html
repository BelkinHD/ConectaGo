{% load static %}
<!DOCTYPE html>
<html lang="es">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1" name="viewport"/>
  <title>
   Login ConectaGo
  </title>
  <script src="https://cdn.tailwindcss.com">
  </script>
  <link href="https://fonts.googleapis.com/css2?family=Inter&amp;display=swap" rel="stylesheet"/>
  <style>
   body {
      font-family: "Inter", sans-serif;
    }
  </style>
 </head>
 <body>
  <a href="{% url 'ConectaGo:home' %}" class="absolute top-4 left-4 bg-yellow-500 text-white px-4 py-2 rounded hover:bg-yellow-600 transition">
    Volver al inicio
  </a>
  <div class="min-h-screen flex">
   <div class="w-1/2 bg-[#F7C600] flex justify-center items-center p-10">
    <form method="post" autocomplete="off" class="bg-white rounded-2xl p-8 w-full max-w-md" spellcheck="false">
     {% csrf_token %}
     <h2 class="text-[#D9A600] font-semibold text-lg text-center mb-4">
      Iniciar Sesión
     </h2>
     {% if messages %}
       <ul class="mb-4">
         {% for message in messages %}
           {% if 'error' in message.tags or 'warning' in message.tags or 'login' in message.tags %}
             <li class="text-red-600 text-xs mb-2">{{ message }}</li>
           {% endif %}
         {% endfor %}
       </ul>
     {% endif %}
     <div class="mb-6">
      <img class="mx-auto" height="200" src="{% static 'img/HomeP.png' %}" width="300"/>
     </div>
     <label class="block text-xs text-gray-700 mb-1" for="id_email">
      Correo
     </label>
     {{ form.email }}
     {% if form.email.errors %} 
       <p class="text-red-600 text-xs mb-4">{{ form.email.errors }}</p>
     {% endif %}
     <label class="block text-xs text-gray-700 mb-1" for="id_password">
      Contraseña
     </label>
     {{ form.password }}
     {% if form.password.errors %}
       <p class="text-red-600 text-xs mb-4">{{ form.password.errors }}</p>
     {% endif %}
     <p class="text-center text-[#D9A600] text-xs mb-4 cursor-pointer select-none">
      ¿Olvidaste tu contraseña?
     </p>
     <button class="bg-[#D9A600] text-white rounded-full px-6 py-2 mx-auto block text-sm font-semibold hover:bg-yellow-700 transition-colors" type="submit">
      Iniciar Sesión
     </button>
    </form>
   </div>
   <div class="w-1/2 bg-[#D9A600] flex justify-center items-center p-10">
    <div class="text-white flex flex-col items-center space-y-4">
     <img class="max-w-xs" height="900" src="{% static 'img/CgLogo.png' %}" width="700" />
    </div>
   </div>
  </div>

  <div class="max-w-md mx-auto mt-8 p-4 bg-white rounded-lg shadow-md">
    <h2 class="text-xl font-semibold mb-4">Usuarios de prueba</h2>
    <form method="post" style="margin-top: 20px;">
      {% csrf_token %}
      {% for key, user in test_users.items %}
        <button type="submit" name="test_user" value="{{ key }}" class="mr-2 mb-2 px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 transition">
          Ingresar como {{ key|capfirst }}
        </button>
      {% endfor %}
    </form>
  </div>
 </body>
</html>
